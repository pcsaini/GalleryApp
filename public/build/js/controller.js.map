{"version":3,"sources":["userController.js","globalController.js","navController.js","galleryController.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"controller.js","sourcesContent":["/**\n * Created by pcsaini on 16/4/17.\n */\nmyApp.controller('userController',['$scope','userModel','$location', function ($scope,userModel,$location) {\n\n    angular.extend($scope,{\n        doLogin:function (loginForm) {\n            var data = {\n            \temail:$scope.login.username,\n                password: $scope.login.password\n            };\n\n            userModel.doLogin(data).then(function mySuccess(){\n            \t$location.path('/dashboard');\n            });\n        },\n\n        \n    });\n}]);","/**\n * Created by pcsaini on 17/4/17.\n */\nmyApp.controller('globalController',['$scope',function ($scope) {\n    $scope.global = {};\n    $scope.global.navUrl = 'templates/partials/nav.html';\n}]);","/**\n * Created by pcsaini on 17/4/17.\n */\n\nmyApp.controller('navController',['$scope','$location','userModel',function ($scope,$location,userModel) {\n    /*Variables*/\n    angular.extend($scope,{\n        user:userModel.getUserObject(),\n        navUrl:[{\n            link:'Home',\n            url:'/dashboard',\n            subMenu:[{\n                link:'View Gallery',\n                url:'/gallery/view'\n            }, {\n                link:'Add Gallery',\n                url:'/gallery/add'\n            }]\n        }, {\n            link:'View Gallery',\n            url:'/gallery/view'\n        }, {\n            link:'Add Gallery',\n            url:'/gallery/add'\n        }]\n    });\n\n    /*Methods*/\n    angular.extend($scope,{\n        doLogout:function () {\n            userModel.doUserLogout();\n            $location.path('/');\n        },\n\n        checkActiveLink:function (routeLink) {\n            if ($location.path() == routeLink){\n                return 'make-active';\n            }\n        }\n    })\n}]);","/**\n * Created by pcsaini on 17/4/17.\n */\nmyApp.controller('galleryController',['$scope','$location','$timeout','$routeParams','galleryModel',\n    function ($scope,$location,$timeout,$routeParams,galleryModel,Lightbox) {\n\n        /*Get All Galleries*/\n        galleryModel.gatAllGalleries().success(function (responce) {\n            $scope.galleries = responce;\n            $scope.showGalleries = true;\n\n        });\n\n        if ($routeParams.id){\n            console.log(\"Single Page Gallery \"+ $routeParams.id);\n            galleryModel.getGalleryById($routeParams.id).success(function (responce) {\n                $scope.singleGallery = responce;\n                console.log(responce);\n            })\n        }\n\n        $scope.$on('imageAdded',function (event, args) {\n           $scope.singleGallery = args;\n           $scope.$apply();\n        });\n\n\n        /*Variables*/\n        angular.extend($scope,{\n            newGallery:{},\n            errorDiv:false,\n            errorMessage:[],\n            singleGallery:{},\n            dropzoneConfig : {\n                'options': { // passed into the Dropzone constructor\n                    'url': baseUrl + 'upload-file'\n                },\n                'eventHandlers': {\n                    'sending': function (file, xhr, formData) {\n                        formData.append('_token',csrfToken);\n                        formData.append('gallery_id',$routeParams.id);\n                    },\n                    'success': function (file,response) {\n                        console.log(response);\n                        $scope.singleGallery.images.push(response);\n                        $scope.$emit('imageAdded',$scope.singleGallery);\n                    }\n\n                }\n            }\n        });\n\n        /*Functions*/\n        angular.extend($scope,{\n            saveNewGallery:function (addGalleryForm) {\n                if (addGalleryForm.$valid){\n                    $scope.formSubmitted = false;\n                    galleryModel.saveGallery($scope.newGallery).success(function (responce) {\n                        $location.path('/gallery/view');\n                    })\n                } else{\n                    $scope.formSubmitted = true;\n                    console.log('Error');\n                }\n            },\n            viewGallery: function (id) {\n                $location.path('/gallery/view/'+id);\n            },\n            openLightboxModal: function (index) {\n                Lightbox.openModal($scope.singleGallery.images, index);\n            },\n            deleteImage:function (imageId) {\n                console.log(\"Delete Image \"+imageId);\n                var data = {\n                    imageId: imageId,\n                    galleryId: $routeParams.id\n                };\n\n                galleryModel.deleteSingleGallery(data).success(function (responce) {\n                    $scope.singleGallery = responce;\n                    console.log(responce);\n                });\n            }\n        })\n\n\n}]);"]}